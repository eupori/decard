"""공개 카드셋 시드 데이터 삽입."""
import sys
import os
import uuid

# 프로젝트 루트를 path에 추가
sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from app.database import SessionLocal, create_tables
from app.models import PublicCardsetModel, PublicCardModel


SEED_CARDSETS = [
    # ── 1. JLPT N3 필수 단어 (20장) ──
    {
        "title": "JLPT N3 필수 단어",
        "description": "일본어능력시험 N3 레벨 필수 단어 20선. 시험에 자주 출제되는 핵심 어휘를 엄선했습니다.",
        "category": "language",
        "tags": "JLPT,N3,일본어,단어",
        "is_featured": True,
        "cards": [
            {"front": "経験 (けいけん)", "back": "경험. 직접 해보거나 겪어 봄."},
            {"front": "届ける (とどける)", "back": "전하다, 배달하다. 물건이나 소식을 상대에게 전달함."},
            {"front": "相談 (そうだん)", "back": "상담. 문제 해결을 위해 다른 사람과 의논함."},
            {"front": "心配 (しんぱい)", "back": "걱정. 좋지 않은 일이 일어날까 불안해함."},
            {"front": "準備 (じゅんび)", "back": "준비. 어떤 일에 필요한 것을 미리 갖춤."},
            {"front": "割合 (わりあい)", "back": "비율, 비교적. 전체에서 차지하는 비중."},
            {"front": "普通 (ふつう)", "back": "보통. 특별하지 않은 일반적인 상태."},
            {"front": "残念 (ざんねん)", "back": "유감, 아쉬움. 기대에 어긋나 안타까운 마음."},
            {"front": "受付 (うけつけ)", "back": "접수, 안내데스크. 방문자를 맞이하고 처리하는 곳."},
            {"front": "技術 (ぎじゅつ)", "back": "기술. 과학 이론을 실제로 적용하는 수단이나 방법."},
            {"front": "比較 (ひかく)", "back": "비교. 둘 이상의 대상을 견주어 살핌."},
            {"front": "政治 (せいじ)", "back": "정치. 나라를 다스리는 일."},
            {"front": "禁止 (きんし)", "back": "금지. 법이나 규칙으로 하지 못하게 막음."},
            {"front": "反対 (はんたい)", "back": "반대. 어떤 의견이나 제안에 동의하지 않음."},
            {"front": "増える (ふえる)", "back": "늘다, 증가하다. 수량이나 정도가 많아짐."},
            {"front": "減る (へる)", "back": "줄다, 감소하다. 수량이나 정도가 적어짐."},
            {"front": "変化 (へんか)", "back": "변화. 모양이나 상태가 달라짐."},
            {"front": "関係 (かんけい)", "back": "관계. 둘 이상의 사람이나 사물이 서로 연결됨."},
            {"front": "自然 (しぜん)", "back": "자연. 사람의 손이 닿지 않은 있는 그대로의 상태."},
            {"front": "影響 (えいきょう)", "back": "영향. 어떤 것의 작용이 다른 것에 미침."},
        ],
    },

    # ── 2. 정보처리기사 핵심 개념 (20장) ──
    {
        "title": "정보처리기사 핵심 개념",
        "description": "정보처리기사 필기 시험 대비 핵심 개념 20선. 소프트웨어공학, 데이터베이스, 네트워크 등 주요 출제 영역을 다룹니다.",
        "category": "it",
        "tags": "정보처리기사,IT,자격증,소프트웨어",
        "is_featured": True,
        "cards": [
            {"front": "OSI 7계층 모델이란?", "back": "국제표준화기구(ISO)가 정의한 네트워크 통신 7단계 참조 모델. 물리-데이터링크-네트워크-전송-세션-표현-응용 계층으로 구성."},
            {"front": "TCP와 UDP의 차이점은?", "back": "TCP는 연결 지향, 신뢰성 보장, 흐름/혼잡 제어 제공. UDP는 비연결, 신뢰성 미보장이나 속도가 빠름. TCP는 HTTP/FTP, UDP는 DNS/스트리밍에 사용."},
            {"front": "정규화(Normalization)란?", "back": "관계형 데이터베이스에서 데이터 중복을 최소화하고 이상(Anomaly)을 방지하기 위해 테이블을 분해하는 과정. 1NF→2NF→3NF→BCNF 순으로 진행."},
            {"front": "SQL Injection이란?", "back": "악의적인 SQL 문을 입력값에 삽입하여 데이터베이스를 비정상적으로 조작하는 공격. Prepared Statement, 입력값 검증으로 방어."},
            {"front": "애자일(Agile) 방법론이란?", "back": "반복(Iteration)과 피드백을 통해 점진적으로 소프트웨어를 개발하는 방법론. 스크럼, XP, 칸반 등이 대표적. 변화에 유연하게 대응하는 것이 핵심."},
            {"front": "트랜잭션의 ACID 속성이란?", "back": "Atomicity(원자성): 전부 실행 또는 전부 취소. Consistency(일관성): 실행 전후 DB 일관성 유지. Isolation(격리성): 동시 트랜잭션 간 간섭 없음. Durability(지속성): 완료된 결과는 영구 반영."},
            {"front": "디자인 패턴 중 싱글톤(Singleton) 패턴이란?", "back": "클래스의 인스턴스가 하나만 생성되도록 보장하고, 전역 접근점을 제공하는 생성 패턴. DB 연결 풀, 로거 등에 활용."},
            {"front": "데드락(Deadlock)이란?", "back": "두 개 이상의 프로세스가 서로 상대방이 점유한 자원을 기다리며 무한 대기하는 상태. 발생 조건: 상호배제, 점유와 대기, 비선점, 순환대기."},
            {"front": "REST API란?", "back": "HTTP 프로토콜을 기반으로 자원(Resource)을 URI로 표현하고 HTTP 메서드(GET/POST/PUT/DELETE)로 조작하는 아키텍처 스타일. 무상태(Stateless) 통신이 특징."},
            {"front": "UML 다이어그램의 종류는?", "back": "구조 다이어그램: 클래스, 객체, 컴포넌트, 배치, 패키지. 행위 다이어그램: 유스케이스, 시퀀스, 활동, 상태, 통신. 총 14종류."},
            {"front": "해시(Hash) 함수란?", "back": "임의 길이의 데이터를 고정 길이의 값으로 변환하는 함수. 단방향성, 충돌 저항성이 특징. 비밀번호 저장, 데이터 무결성 검증에 사용."},
            {"front": "소프트웨어 생명주기(SDLC) 모델 종류는?", "back": "폭포수 모델: 순차 진행. 프로토타입 모델: 시제품 개발 후 반복. 나선형 모델: 위험 분석 + 반복. V 모델: 각 단계에 대응하는 테스트 수행."},
            {"front": "IPv4와 IPv6의 차이는?", "back": "IPv4: 32비트, 약 43억 개 주소, 10진수 표기. IPv6: 128비트, 사실상 무한한 주소, 16진수 표기. IPv6는 보안(IPSec) 기본 내장, 헤더 단순화."},
            {"front": "B-Tree 인덱스란?", "back": "균형 잡힌 트리 구조로 데이터를 정렬하여 저장하는 인덱스. 삽입/삭제/검색 시간복잡도 O(log n). RDBMS에서 가장 널리 사용되는 인덱스 구조."},
            {"front": "클라우드 서비스 모델(IaaS, PaaS, SaaS)이란?", "back": "IaaS: 인프라 제공(AWS EC2). PaaS: 개발 플랫폼 제공(Heroku). SaaS: 완성된 소프트웨어 제공(Gmail). 아래로 갈수록 사용자 관리 범위 감소."},
            {"front": "DDoS 공격이란?", "back": "분산 서비스 거부 공격. 다수의 좀비 PC를 이용해 대상 서버에 대량의 트래픽을 보내 서비스를 마비시키는 공격. 방어: 트래픽 필터링, CDN, Rate Limiting."},
            {"front": "형상관리(Configuration Management)란?", "back": "소프트웨어 개발 과정에서 산출물의 변경 사항을 체계적으로 추적·관리하는 활동. 도구: Git, SVN. 절차: 식별→제어→감사→기록."},
            {"front": "객체지향의 4대 특성은?", "back": "캡슐화: 데이터+메서드 묶음, 정보 은닉. 상속: 부모 클래스 속성·메서드 재사용. 다형성: 같은 인터페이스로 다른 동작. 추상화: 공통 특성 추출."},
            {"front": "블랙박스 테스트와 화이트박스 테스트의 차이는?", "back": "블랙박스: 내부 구조 모르고 기능만 테스트 (동치 분할, 경계값 분석). 화이트박스: 내부 코드 구조 보고 테스트 (문장/분기/조건 커버리지)."},
            {"front": "교착 상태 해결 방법은?", "back": "예방: 4가지 발생 조건 중 하나 제거. 회피: 은행원 알고리즘으로 안전 상태 유지. 탐지: 자원 할당 그래프로 탐지 후 복구. 복구: 프로세스 종료 또는 자원 선점."},
        ],
    },

    # ── 3. 컴퓨터활용능력 1급 (15장) ──
    {
        "title": "컴퓨터활용능력 1급 핵심",
        "description": "컴퓨터활용능력 1급 필기 시험 대비 핵심 문제 15선. 엑셀 함수, 컴퓨터 일반, 데이터베이스 핵심을 다룹니다.",
        "category": "it",
        "tags": "컴활,컴퓨터활용능력,1급,엑셀,자격증",
        "is_featured": True,
        "cards": [
            {"front": "VLOOKUP 함수의 용도와 구문은?", "back": "수직 방향으로 데이터를 검색하여 같은 행의 지정 열 값을 반환하는 함수. =VLOOKUP(검색값, 범위, 열번호, [정확/근사]). 네 번째 인수 FALSE는 정확히 일치."},
            {"front": "INDEX-MATCH 함수 조합의 장점은?", "back": "INDEX(범위, 행번호)와 MATCH(검색값, 범위, 0)를 조합하여 VLOOKUP보다 유연한 검색 가능. 왼쪽 방향 검색, 열 삽입 시에도 안정적."},
            {"front": "피벗 테이블(Pivot Table)이란?", "back": "대량의 데이터를 요약·분석하기 위해 행/열을 재배치하여 집계하는 대화형 테이블. 드래그앤드롭으로 그룹화, 합계, 평균 등 다양한 분석 가능."},
            {"front": "매크로(Macro)란?", "back": "반복 작업을 자동화하기 위해 일련의 명령을 기록·실행하는 기능. VBA(Visual Basic for Applications)로 작성. 보안상 매크로 포함 파일은 .xlsm 확장자 사용."},
            {"front": "조건부 서식이란?", "back": "셀의 값이 특정 조건을 충족할 때 자동으로 서식(색상, 글꼴 등)을 적용하는 기능. 데이터 시각화에 유용. 수식을 이용한 사용자 지정 조건도 가능."},
            {"front": "COUNTIF와 COUNTIFS의 차이는?", "back": "COUNTIF: 단일 조건으로 셀 개수 카운트 =COUNTIF(범위, 조건). COUNTIFS: 다중 조건 =COUNTIFS(범위1, 조건1, 범위2, 조건2). 두 함수 모두 와일드카드(*,?) 사용 가능."},
            {"front": "절대참조와 상대참조의 차이는?", "back": "상대참조(A1): 수식 복사 시 참조 위치가 자동 변경. 절대참조($A$1): 수식 복사해도 참조 고정. 혼합참조($A1, A$1): 행 또는 열만 고정. F4 키로 전환."},
            {"front": "데이터 유효성 검사란?", "back": "셀에 입력할 수 있는 데이터를 제한하는 기능. 목록, 정수, 소수, 날짜, 시간, 텍스트 길이 등 제한 가능. 잘못된 입력 시 오류 메시지 표시."},
            {"front": "CPU의 구성 요소는?", "back": "ALU(산술논리장치): 연산 수행. CU(제어장치): 명령어 해석·제어 신호 발생. 레지스터: 고속 임시 저장. 내부 버스: 구성 요소 간 데이터 전송 통로."},
            {"front": "운영체제의 주요 기능은?", "back": "프로세스 관리(CPU 스케줄링), 메모리 관리(가상메모리), 파일 시스템 관리, 입출력 관리, 보안·권한 관리. 하드웨어와 사용자 사이의 인터페이스 역할."},
            {"front": "RAID 0, 1, 5의 차이는?", "back": "RAID 0(스트라이핑): 속도↑, 안전성✕. RAID 1(미러링): 데이터 복제, 안전성↑, 용량 50%. RAID 5(패리티 분산): 3개 이상 디스크, 1개 장애 복구 가능, 속도+안전성 균형."},
            {"front": "관계형 데이터베이스의 키(Key) 종류는?", "back": "기본키(PK): 튜플 고유 식별. 외래키(FK): 다른 테이블 참조. 후보키: PK 될 수 있는 키. 슈퍼키: 유일성만 만족. 대체키: 후보키 중 PK 제외 나머지."},
            {"front": "SUMPRODUCT 함수란?", "back": "여러 배열의 대응하는 요소끼리 곱한 후 합계를 구하는 함수. =SUMPRODUCT(배열1, 배열2). 조건부 합계, 가중 평균 계산에도 활용 가능."},
            {"front": "유니코드(Unicode)란?", "back": "전 세계 모든 문자를 컴퓨터에서 일관되게 표현·처리하기 위한 산업 표준 문자 코드. UTF-8(가변길이, 웹 표준), UTF-16 등의 인코딩 방식으로 구현."},
            {"front": "방화벽(Firewall)의 역할은?", "back": "내부 네트워크와 외부 네트워크 사이에서 허가된 트래픽만 통과시키고 불법 접근을 차단하는 보안 시스템. 패킷 필터링, 상태 기반 검사, 애플리케이션 게이트웨이 방식이 있음."},
        ],
    },

    # ── 4. 한국사능력검정시험 고급 (20장) ──
    {
        "title": "한국사능력검정시험 고급",
        "description": "한국사능력검정시험 심화(1·2급) 대비 핵심 사건과 인물 20선. 고대사부터 근현대사까지 주요 출제 포인트를 정리했습니다.",
        "category": "education",
        "tags": "한국사,한능검,고급,역사,자격증",
        "is_featured": True,
        "cards": [
            {"front": "광개토대왕의 주요 업적은?", "back": "고구려 제19대 왕(재위 391~412). 만주와 한반도 북부를 정복하여 고구려 최대 영토 확보. 신라에 침입한 왜를 격퇴(400년). 광개토대왕릉비에 업적 기록."},
            {"front": "삼국통일의 과정을 설명하시오.", "back": "나당연합군이 백제(660)와 고구려(668) 멸망시킴. 이후 신라가 당의 한반도 지배 의도에 맞서 매소성 전투(675), 기벌포 전투(676)에서 당군을 축출하여 삼국통일 완성."},
            {"front": "고려 광종의 개혁 정책은?", "back": "노비안검법(956): 불법 노비를 양인으로 해방하여 호족 세력 약화. 과거제 실시(958): 쌍기의 건의로 도입, 능력 중심 관리 선발. 왕권 강화가 핵심 목표."},
            {"front": "조선 세종대왕의 업적은?", "back": "훈민정음 창제(1443), 집현전 설치, 측우기·해시계·자격루 등 과학 기구 발명, 4군 6진 개척(북방 영토 확장), 삼강행실도 편찬."},
            {"front": "임진왜란의 전개 과정은?", "back": "1592년 일본 침략 → 선조 의주 피란 → 이순신 해전 승리(한산도대첩 등) → 의병 활약 → 명나라 참전 → 정유재란(1597) → 노량해전(1598) 후 일본군 철수."},
            {"front": "병자호란의 원인과 결과는?", "back": "원인: 인조반정 후 친명배금 정책으로 청과 갈등. 결과: 인조가 남한산성에서 45일 항전 후 삼전도에서 청 태종에게 항복(1637). 소현세자·봉림대자 볼모로 감."},
            {"front": "갑오개혁(1894)의 주요 내용은?", "back": "1차: 과거제 폐지, 신분제 철폐, 은본위제 채택, 재판소 설치. 2차(을미개혁): 태양력 채택, 건양 연호 사용, 단발령. 조선의 근대적 제도 개혁 시도."},
            {"front": "동학 농민 운동(1894)의 전개는?", "back": "1차 봉기: 고부 민란 → 전봉준 지휘 → 황토현 전투 승리 → 전주 점령 → 전주화약(폐정개혁안). 2차 봉기: 일본군 개입에 항거 → 공주 우금치 전투에서 패배."},
            {"front": "대한제국(1897)의 성격은?", "back": "고종이 러시아 공사관에서 환궁 후 선포. 황제 칭호 사용, 연호 광무, 원구단에서 즉위식. 광무개혁: 양전사업, 상공업 진흥. 그러나 열강 간섭으로 실질적 주권 회복 한계."},
            {"front": "3·1 운동(1919)의 의의는?", "back": "일제강점기 최대 규모 독립운동. 민족자결주의 영향, 종교계 중심 준비. 전국적 만세 시위로 확산. 대한민국 임시정부 수립 계기, 일제의 무단통치→문화통치 전환 초래."},
            {"front": "대한민국 임시정부의 활동은?", "back": "1919년 상하이에서 수립. 민주공화제 채택, 대통령 이승만. 연통제·교통국으로 국내 연결. 이후 충칭 이전, 한국광복군 창설(1940), 대일 선전포고(1941)."},
            {"front": "신라 골품제란?", "back": "신라의 신분제도. 성골(왕족 최고)·진골(왕족)·6두품~1두품(일반 귀족~평민). 골품에 따라 관등 상한선·가옥 크기·의복 색상 등이 제한됨. 사회 이동 차단."},
            {"front": "고려 무신정변(1170)의 원인과 결과는?", "back": "원인: 문신 우대·무신 차별 정책(의종의 무신 모욕). 결과: 정중부 등 무신들이 정변 일으켜 의종 폐위. 이후 100년간 무신정권 시대(경대승→이의민→최충헌 집권)."},
            {"front": "조선 영·정조 시대의 특징은?", "back": "영조: 탕평책(붕당 완화), 균역법(군포 반감), 속대전 편찬. 정조: 규장각 설치, 장용영(국왕 친위대), 수원 화성 축조, 신해통공(시전 독점 폐지). 조선 후기 르네상스."},
            {"front": "위화도 회군(1388)이란?", "back": "고려 우왕 때 최영의 요동 정벌 명령에 이성계가 위화도에서 군대를 돌려 개경을 장악한 사건. 이후 이성계가 실권 장악 → 과전법 실시 → 1392년 조선 건국."},
            {"front": "일제의 토지조사사업(1910~1918)이란?", "back": "일제가 식민지 토지 수탈을 위해 실시한 사업. 기한 내 신고하지 않은 토지를 총독부 소유로 편입. 농민들의 관습적 경작권 부정, 동양척식주식회사를 통한 일본인 이주 촉진."},
            {"front": "6·25 전쟁의 전개 과정은?", "back": "1950.6.25 북한 남침 → 낙동강 방어선 → 인천상륙작전(9.15) → 서울 수복·평양 탈환 → 중공군 개입(10월) → 1·4 후퇴 → 전선 교착 → 1953.7.27 정전협정 체결."},
            {"front": "독립협회(1896)의 활동은?", "back": "서재필 주도로 설립. 독립신문 발간(최초 한글 신문), 독립문 건설, 만민공동회 개최(의회식 토론). 러시아 이권 반대 운동. 고종의 탄압으로 1898년 해산."},
            {"front": "발해(698~926)의 특징은?", "back": "대조영이 동모산에서 건국. '해동성국'으로 불림. 고구려 유민+말갈족 구성. 3성 6부 중앙관제(당 제도 수용). 5경 15부 62주 지방 행정. 거란(요)에 멸망(926)."},
            {"front": "4·19 혁명(1960)의 원인과 결과는?", "back": "원인: 이승만 정권의 3·15 부정선거. 마산에서 김주열 시신 발견으로 전국 시위 확산. 결과: 이승만 하야, 제1공화국 붕괴. 허정 과도정부 → 장면 내각(제2공화국) 수립."},
        ],
    },

    # ── 5. 토익 필수 숙어 (20장) ──
    {
        "title": "토익 필수 숙어",
        "description": "토익 LC·RC에 자주 출제되는 필수 숙어 20선. 비즈니스 영어에서 자주 사용되는 표현을 엄선했습니다.",
        "category": "language",
        "tags": "토익,TOEIC,영어,숙어,비즈니스",
        "is_featured": True,
        "cards": [
            {"front": "call off", "back": "취소하다 (= cancel). 예: The meeting was called off due to the storm."},
            {"front": "carry out", "back": "수행하다, 실행하다 (= execute). 예: The team carried out the project on schedule."},
            {"front": "come up with", "back": "~을 생각해내다, 제안하다. 예: She came up with a brilliant marketing strategy."},
            {"front": "deal with", "back": "~을 처리하다, 다루다 (= handle). 예: We need to deal with customer complaints promptly."},
            {"front": "figure out", "back": "이해하다, 알아내다 (= understand). 예: I finally figured out how to use the new software."},
            {"front": "fill out", "back": "(서류를) 작성하다 (= complete a form). 예: Please fill out the application form before the interview."},
            {"front": "get along with", "back": "~와 잘 지내다. 예: She gets along with all her colleagues in the office."},
            {"front": "go over", "back": "검토하다, 살펴보다 (= review). 예: Let's go over the financial report before the meeting."},
            {"front": "keep up with", "back": "~에 뒤처지지 않다, 따라가다. 예: It's hard to keep up with the latest technology trends."},
            {"front": "look into", "back": "조사하다, 알아보다 (= investigate). 예: The HR department is looking into the matter."},
            {"front": "make up for", "back": "보상하다, 만회하다 (= compensate). 예: We'll make up for the delay by working overtime."},
            {"front": "put off", "back": "연기하다, 미루다 (= postpone). 예: The conference has been put off until next month."},
            {"front": "run out of", "back": "~이 다 떨어지다, 부족하다. 예: We're running out of office supplies."},
            {"front": "set up", "back": "설립하다, 설치하다 (= establish). 예: They set up a new branch office in Seoul."},
            {"front": "take over", "back": "인수하다, 이어받다. 예: The new manager will take over the department next week."},
            {"front": "turn down", "back": "거절하다, 거부하다 (= reject). 예: She turned down the job offer for personal reasons."},
            {"front": "bring up", "back": "(화제를) 꺼내다, 제기하다 (= raise). 예: He brought up the issue of budget cuts during the meeting."},
            {"front": "comply with", "back": "~을 준수하다, 따르다 (= follow). 예: All employees must comply with the company's safety regulations."},
            {"front": "account for", "back": "~을 설명하다, ~의 비율을 차지하다. 예: Online sales account for 40% of total revenue."},
            {"front": "lay off", "back": "해고하다, 정리해고하다. 예: The company laid off 200 workers due to the economic downturn."},
        ],
    },

    # ── 6. 행정법 기본 개념 (15장) ──
    {
        "title": "행정법 기본 개념",
        "description": "행정법 입문 및 공무원 시험 대비 핵심 개념 15선. 행정행위, 행정절차, 행정구제 등 기본 이론을 정리했습니다.",
        "category": "law",
        "tags": "행정법,법학,공무원,행정사,자격증",
        "is_featured": True,
        "cards": [
            {"front": "행정행위란?", "back": "행정청이 법 아래서 구체적 사실에 관한 법집행으로서 행하는 공권력의 행사 또는 그 거부와 기타 이에 준하는 행정작용. 허가, 인가, 특허 등이 대표적."},
            {"front": "행정행위의 부관이란?", "back": "행정행위의 효과를 제한하거나 보충하기 위해 부가하는 종된 의사표시. 종류: 조건(정지조건/해제조건), 기한, 부담, 철회권의 유보, 법률효과의 일부 배제."},
            {"front": "행정법의 법원(法源)은?", "back": "성문법: 헌법, 법률, 명령(대통령령·총리령·부령), 자치법규(조례·규칙). 불문법: 관습법, 판례법, 행정선례법, 조리(신의성실·비례·평등 원칙)."},
            {"front": "법률유보 원칙이란?", "back": "행정작용은 법률의 근거가 있어야 한다는 원칙. 침해유보설(국민 권리 침해 시), 급부유보설(급부행정 포함), 전부유보설(모든 행정), 중요사항유보설(본질적 사항)로 범위 논쟁."},
            {"front": "재량행위와 기속행위의 차이는?", "back": "기속행위: 법이 요건·효과를 확정, 행정청 판단 여지 없음('~하여야 한다'). 재량행위: 행정청에 판단 여지 부여('~할 수 있다'). 재량행위도 재량권 일탈·남용 시 위법."},
            {"front": "행정절차법의 주요 내용은?", "back": "처분절차: 사전통지, 의견청취(청문·공청회·의견제출). 신고절차: 수리 여부 통지. 행정입법예고: 국민 의견 수렴. 행정지도: 비권력적 사실행위. 적법절차 원리 구현."},
            {"front": "행정심판이란?", "back": "행정청의 위법·부당한 처분에 대해 행정기관에 불복하는 쟁송절차. 종류: 취소심판, 무효등확인심판, 의무이행심판. 행정소송의 전치주의 적용(일부 개별법)."},
            {"front": "행정소송의 종류는?", "back": "항고소송: 취소소송·무효등확인소송·부작위위법확인소송. 당사자소송: 법률관계 확인·형성. 민중소송: 국민이 자기 법률상 이익과 관계없이 제기. 기관소송: 국가기관 간 권한 분쟁."},
            {"front": "취소소송의 제소기간은?", "back": "주관적 기간: 처분이 있음을 안 날부터 90일 이내. 객관적 기간: 처분이 있은 날부터 1년 이내. 정당한 사유가 있으면 연장 가능. 두 기간 모두 충족해야 적법."},
            {"front": "행정대집행이란?", "back": "대체적 작위의무를 이행하지 않을 때, 행정청이 스스로 또는 제3자에게 시켜 이행하고 비용을 의무자에게 징수하는 강제집행 수단. 계고→대집행 영장 통지→실행→비용 징수 절차."},
            {"front": "행정법의 일반원칙은?", "back": "비례원칙(과잉금지): 목적 달성에 필요한 최소한의 수단. 평등원칙: 합리적 이유 없는 차별 금지. 신뢰보호원칙: 행정청 언행에 대한 신뢰 보호. 부당결부금지원칙: 관련 없는 조건 부과 금지."},
            {"front": "공법과 사법의 구별 실익은?", "back": "행정소송 vs 민사소송 관할, 행정행위 공정력 인정 여부, 국가배상법 적용 여부, 행정절차법 적용 여부, 강제집행 방법(행정강제 vs 민사집행)이 달라짐."},
            {"front": "행정계약이란?", "back": "행정 목적 달성을 위해 행정주체가 상대방과 대등한 지위에서 체결하는 계약. 공법상 계약(공무원 임용계약, 보조금 교부계약)과 사법상 계약(물품 구매)으로 구분."},
            {"front": "행정벌의 종류는?", "back": "행정형벌: 행정법규 위반에 대한 형사벌(벌금, 징역 등), 형사소송절차 적용. 행정질서벌(과태료): 경미한 의무 위반에 부과, 비송사건절차법 적용. 이중처벌 금지 원칙 적용."},
            {"front": "국가배상 제도란?", "back": "공무원의 직무상 불법행위(제2조)나 영조물의 설치·관리 하자(제5조)로 손해를 입은 국민이 국가·지방자치단체에 배상을 청구하는 제도. 과실책임주의(제2조), 무과실책임(제5조)."},
        ],
    },
]


def seed():
    """시드 데이터를 DB에 삽입."""
    create_tables()
    db = SessionLocal()
    try:
        existing = db.query(PublicCardsetModel).filter(
            PublicCardsetModel.author_name == "데카드"
        ).count()
        if existing > 0:
            print(f"이미 시드 데이터 {existing}개 존재. 스킵합니다.")
            return

        total_cards = 0
        for cs_data in SEED_CARDSETS:
            cards_data = cs_data.pop("cards")
            total_cards += len(cards_data)
            cardset = PublicCardsetModel(
                id=f"pcs_{uuid.uuid4().hex[:10]}",
                card_count=len(cards_data),
                author_name="데카드",
                status="published",
                **cs_data,
            )
            db.add(cardset)
            db.flush()

            for i, c in enumerate(cards_data):
                db.add(PublicCardModel(
                    id=f"pcrd_{uuid.uuid4().hex[:8]}",
                    cardset_id=cardset.id,
                    sort_order=i,
                    front=c["front"],
                    back=c["back"],
                    evidence=c.get("evidence", ""),
                    template_type=c.get("template_type", "definition"),
                ))

        db.commit()
        print(f"시드 데이터 {len(SEED_CARDSETS)}개 카드셋, 총 {total_cards}장 카드 삽입 완료!")
    except Exception as e:
        db.rollback()
        print(f"에러: {e}")
        raise
    finally:
        db.close()


if __name__ == "__main__":
    seed()
